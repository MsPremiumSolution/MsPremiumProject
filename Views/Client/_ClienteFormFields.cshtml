@model MSPremiumProject.ViewModels.ClienteCreateViewModel

@* Esta Partial View contém todos os campos do formulário para Cliente *@

<fieldset class="mb-4">
    <legend class="h5 mb-3 border-bottom pb-2">Dados Pessoais e Profissionais</legend>
    <div class="row g-3">
        <div class="col-md-6">
            <label asp-for="Cliente.Nome" class="form-label"></label>
            <input asp-for="Cliente.Nome" class="form-control" />
            <span asp-validation-for="Cliente.Nome" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Cliente.Apelido" class="form-label"></label>
            <input asp-for="Cliente.Apelido" class="form-control" />
            <span asp-validation-for="Cliente.Apelido" class="text-danger"></span>
        </div>
    </div>

    <div class="mt-3">
        <label asp-for="Cliente.Empresa" class="form-label"></label>
        <input asp-for="Cliente.Empresa" class="form-control" placeholder="Opcional" />
        <span asp-validation-for="Cliente.Empresa" class="text-danger"></span>
    </div>

    <div class="mt-3">
        <label asp-for="Cliente.Email" class="form-label"></label>
        <input asp-for="Cliente.Email" class="form-control" type="email" />
        <span asp-validation-for="Cliente.Email" class="text-danger"></span>
    </div>
    <div class="row g-3 mt-1">
        <div class="col-md-6">
            <label asp-for="Cliente.Telefone1" class="form-label"></label>
            <input asp-for="Cliente.Telefone1" class="form-control" />
            <span asp-validation-for="Cliente.Telefone1" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Cliente.Telefone2" class="form-label"></label>
            <input asp-for="Cliente.Telefone2" class="form-control" />
            <span asp-validation-for="Cliente.Telefone2" class="text-danger"></span>
        </div>
    </div>
    <div class="row g-3 mt-1">
        <div class="col-md-6">
            <label asp-for="Cliente.NumeroFiscal" class="form-label"></label>
            <input asp-for="Cliente.NumeroFiscal" class="form-control" />
            <span asp-validation-for="Cliente.NumeroFiscal" class="text-danger"></span>
        </div>
        <div class="col-md-6">
            <label asp-for="Cliente.Dtnascimento" class="form-label"></label>
            <input asp-for="Cliente.Dtnascimento" class="form-control" type="date" />
            <span asp-validation-for="Cliente.Dtnascimento" class="text-danger"></span>
        </div>
    </div>
</fieldset>

<fieldset class="mb-4">
    <legend class="h5 mb-3 border-bottom pb-2">Morada</legend>
    <div>
        <label asp-for="Cliente.Morada" class="form-label"></label>
        <input asp-for="Cliente.Morada" class="form-control" />
        <span asp-validation-for="Cliente.Morada" class="text-danger"></span>
    </div>

    <div class="row g-3 mt-1">
        <div class="col-md-4">
            <label asp-for="SelectedPaisId" class="form-label">País</label>
            <!-- REMOVIDO: id="paisDropdown" - Deixe o asp-for gerar o ID -->
            <select asp-for="SelectedPaisId" asp-items="Model.PaisesList" class="form-select">
                <option value="">-- Selecione um País --</option>
            </select>
            <span asp-validation-for="SelectedPaisId" class="text-danger"></span>
        </div>

        <!-- DROPDOWN PARA O DISTRITO -->
        <div class="col-md-4" id="distritoContainer">
            <label asp-for="Cliente.LocalidadeId" class="form-label"></label>
            
            <select asp-for="Cliente.LocalidadeId" asp-items="Model.DistritosList" class="form-select">
                <option value="">-- Selecione um Distrito --</option>
            </select>
            <span asp-validation-for="Cliente.LocalidadeId" class="text-danger"></span>
        </div>

        <!-- TEXTBOX PARA A CIDADE/CONCELHO -->
        <div class="col-md-4">
            <label asp-for="Cliente.Localidade" class="form-label"></label>
            <input asp-for="Cliente.Localidade" class="form-control" placeholder="Ex: Sintra, Cascais" />
            <span asp-validation-for="Cliente.Localidade" class="text-danger"></span>
        </div>
    </div>

    <div class="row g-3 mt-1">
        <div class="col-md-7" id="cpPortugalContainer" style="display: none;">
            <!-- ALTERADO: Adicionado asp-for="Cliente.Cp4" à label -->
            <label asp-for="Cliente.Cp4" class="form-label">Código Postal</label>
            <div class="input-group">
                <input asp-for="Cliente.Cp4" class="form-control" placeholder="1234" />
                <span class="input-group-text">-</span>
                <input asp-for="Cliente.Cp3" class="form-control" placeholder="567" />
            </div>
            <span asp-validation-for="Cliente.Cp4" class="text-danger d-block"></span>
            <span asp-validation-for="Cliente.Cp3" class="text-danger d-block"></span>
        </div>
        <div class="col-md-5" id="cpEstrangeiroContainer" style="display: none;">
            <label asp-for="Cliente.CodigoPostalEstrangeiro" class="form-label">Código Postal</label>
            <input asp-for="Cliente.CodigoPostalEstrangeiro" class="form-control" />
            <span asp-validation-for="Cliente.CodigoPostalEstrangeiro" class="text-danger"></span>
        </div>
    </div>
</fieldset>

<fieldset>
    <legend class="h5 mb-3 border-bottom pb-2">Outras Informações</legend>
    <div>
        <label asp-for="Cliente.Observacoes" class="form-label"></label>
        <textarea asp-for="Cliente.Observacoes" class="form-control" rows="3"></textarea>
        <span asp-validation-for="Cliente.Observacoes" class="text-danger"></span>
    </div>
</fieldset>